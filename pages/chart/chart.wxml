<!--chart.wxml-->
<view class="container">
  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-item">
      <view class="stats-value">{{maxWeight}}</view>
      <view class="stats-label">æœ€é«˜ä½“é‡</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{minWeight}}</view>
      <view class="stats-label">æœ€ä½ä½“é‡</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{avgWeight}}</view>
      <view class="stats-label">å¹³å‡ä½“é‡</view>
    </view>
  </view>
  
  <!-- å›¾è¡¨åŒºåŸŸ -->
  <view class="chart-section">
    <view wx:if="{{chartData.length === 0}}" class="empty-state">
      <view class="empty-icon">ğŸ“Š</view>
      <view class="empty-text">æš‚æ— ä½“é‡è®°å½•</view>
      <view class="empty-tip">è®°å½•ä½“é‡åå³å¯æŸ¥çœ‹æ›²çº¿å›¾</view>
    </view>
    
    <view wx:else class="chart-container">
      <view 
        class="chart-canvas-wrapper"
        bindtouchstart="onTouchStart"
        bindtouchmove="onTouchMove"
        bindtouchend="onTouchEnd"
        bindscale="onScale"
      >
        <canvas 
          id="chartCanvas" 
          type="2d" 
          class="chart-canvas"
        ></canvas>
      </view>
      <view class="zoom-controls">
        <button class="zoom-btn" bindtap="resetZoom">é‡ç½®ç¼©æ”¾</button>
        <text class="zoom-info">ç¼©æ”¾: {{scale.toFixed(1)}}x</text>
      </view>
    </view>
  </view>
  
  <!-- è®°å½•åˆ—è¡¨ -->
  <view wx:if="{{listData && listData.length > 0}}" class="data-section">
    <view class="section-title">è¯¦ç»†è®°å½•</view>
    <view class="data-list">
      <view 
        wx:for="{{listData}}" 
        wx:key="id" 
        class="data-item"
      >
        <view class="data-date">{{formatDate(item.date)}}</view>
        <view class="data-week">å­•{{item.pregnancyWeek}}å‘¨{{item.pregnancyDay}}å¤©</view>
        <view class="data-weight">{{item.weight}}kg</view>
      </view>
    </view>
  </view>
</view>